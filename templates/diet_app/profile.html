{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow-lg">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">
                    <i class="fas fa-user-edit"></i> Edit Your Profile
                </h3>
            </div>
            <div class="card-body p-5">
                <p class="text-muted mb-4">
                    <i class="fas fa-info-circle"></i> 
                    Keep your profile updated for accurate diet recommendations
                </p>
                
                <form method="POST">
                    {% csrf_token %}
                    
                    <div class="row g-3">
                        <!-- Age -->
                        <div class="col-md-6">
                            <label for="{{ form.age.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-birthday-cake"></i> Age *
                            </label>
                            {{ form.age }}
                            {% if form.age.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.age.errors }}
                                </div>
                            {% endif %}
                            <small class="text-muted">Your current age in years</small>
                        </div>
                        
                        <!-- Gender -->
                        <div class="col-md-6">
                            <label for="{{ form.gender.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-venus-mars"></i> Gender *
                            </label>
                            {{ form.gender }}
                            {% if form.gender.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.gender.errors }}
                                </div>
                            {% endif %}
                        </div>
                        
                        <!-- Height -->
                        <div class="col-md-6">
                            <label for="{{ form.height.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-ruler-vertical"></i> Height (cm) *
                            </label>
                            {{ form.height }}
                            {% if form.height.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.height.errors }}
                                </div>
                            {% endif %}
                            <small class="text-muted">Your height in centimeters</small>
                        </div>
                        
                        <!-- Weight -->
                        <div class="col-md-6">
                            <label for="{{ form.weight.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-weight"></i> Current Weight (kg) *
                            </label>
                            {{ form.weight }}
                            {% if form.weight.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.weight.errors }}
                                </div>
                            {% endif %}
                            <small class="text-muted">Your current weight in kilograms</small>
                        </div>
                        
                        <!-- Activity Level -->
                        <div class="col-12">
                            <label for="{{ form.activity_level.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-running"></i> Activity Level *
                            </label>
                            {{ form.activity_level }}
                            {% if form.activity_level.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.activity_level.errors }}
                                </div>
                            {% endif %}
                            <div class="alert alert-info mt-2">
                                <small>
                                    <strong>Activity Levels:</strong><br>
                                    • <strong>Sedentary:</strong> Little or no exercise<br>
                                    • <strong>Light:</strong> Exercise 1-3 days/week<br>
                                    • <strong>Moderate:</strong> Exercise 3-5 days/week<br>
                                    • <strong>Very Active:</strong> Exercise 6-7 days/week<br>
                                    • <strong>Extra Active:</strong> Very hard exercise & physical job
                                </small>
                            </div>
                        </div>
                        
                        <!-- Goal -->
                        <div class="col-12">
                            <label for="{{ form.goal.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-bullseye"></i> Your Goal *
                            </label>
                            {{ form.goal }}
                            {% if form.goal.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.goal.errors }}
                                </div>
                            {% endif %}
                            <small class="text-muted">What do you want to achieve?</small>
                        </div>
                        
                        <!-- Diet Type -->
                        <div class="col-12">
                            <label for="{{ form.diet_type.id_for_label }}" class="form-label fw-semibold">
                                <i class="fas fa-utensils"></i> Diet Preference *
                            </label>
                            {{ form.diet_type }}
                            {% if form.diet_type.errors %}
                                <div class="text-danger small mt-1">
                                    {{ form.diet_type.errors }}
                                </div>
                            {% endif %}
                            <small class="text-muted">Choose your dietary preference</small>
                        </div>
                        
                        <!-- Submit Buttons -->
                        <div class="col-12 mt-4">
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-save"></i> Save Profile
                                </button>
                                <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary">
                                    <i class="fas fa-times"></i> Cancel
                                </a>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Additional Info Card -->
        <div class="card shadow mt-4">
            <div class="card-body">
                <h5><i class="fas fa-lightbulb text-warning"></i> Tips for Accurate Results</h5>
                <ul class="mb-0">
                    <li>Update your weight regularly for better tracking</li>
                    <li>Be honest about your activity level</li>
                    <li>Recalculate your diet plan after significant changes</li>
                    <li>Consult a healthcare professional for medical advice</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
    .form-control, .form-select {
        border: 2px solid #e0e0e0;
        transition: all 0.3s;
    }
    
    .form-control:focus, .form-select:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    }
    
    .alert-info {
        background-color: #e3f2fd;
        border-color: #2196f3;
        color: #0d47a1;
    }
</style>
{% endblock %}